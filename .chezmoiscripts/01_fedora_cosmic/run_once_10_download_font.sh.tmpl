{{- if and (eq .chezmoi.os "linux") (eq .chezmoi.osRelease.id "fedora") (eq .chezmoi.osRelease.variant "COSMIC Atomic") -}}
#!/bin/bash
set -euo pipefail

# Wezterm„Åã„ÇâÂà©Áî®„Åô„Çã„Éï„Ç©„É≥„Éà„Çí„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ
FONT_DIR="$HOME/.local/share/fonts"
ZIP_URL="https://github.com/yuru7/HackGen/releases/download/v{{ .hackgenVersion }}/HackGen_NF_v{{ .hackgenVersion }}.zip"
mkdir -p "$FONT_DIR"
cd "$FONT_DIR"
# „Éï„Ç©„É≥„Éà„Éï„Ç°„Ç§„É´„ÅåÊó¢„Å´„ÅÇ„Çã„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if ls HackGen* >/dev/null 2>&1; then
  echo "‚ÑπÔ∏è  HackGen fonts already exist in $FONT_DIR"
else
  echo "‚¨áÔ∏è  Downloading HackGen fonts..."
  curl -fL -o HackGen_NF.zip "$ZIP_URL"
  unzip -o HackGen_NF.zip
  rm HackGen_NF.zip
  echo "üßπ Refreshing font cache..."
  fc-cache -fv
fi

{{- end -}}
